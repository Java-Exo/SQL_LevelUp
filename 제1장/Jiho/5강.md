# chap 01 DBMS 아키텍처

<br>

## 5강 실행 계획의 중요성

- 옵티마이저의 성능은 우수해졌지만 완벽하지 않아 실수도 하고 참담한 성능을 만들어 내는 경우도 많다.

- 이런 경우에는 최후의 튜닝 수단을 사용해야 한다. 바로 실행 계획을 수동으로 변경해주는 것이다.

- 힌트 구를 사용하면 SQL 구문에서 옵티마이저에게 강제적으로 명령할 수 있다.
  사실 힌트 구가 있다는 것은 DBMS 개발자들이 자신들의 옵티마이저가 아직 부족하다는 것을 인정하는 것이다.
  힌트 구와 기능을 아예 만들지 않는 DBMS도 있다.

- 하지만 옵티마이저가 선택하는 실행 계획이 최적의 방법이 아니라면 사람이 어떤 방법으로라도 변경하게 만들 필요가 있다.힌트 구 자체를 막아버린다면 SQL 구문의 구조 변경, 테이블 설정, 애플리케이션 전체 수정이라는 대규모 대응이 필요할 수 있기 때문이다.

- 그런데 실행 계획을 변경하려면 어떤 선택지가 있는지 알아야 한다. 따라서 이 책에서는 어떤 기능에 대해 어떠한 선택지들이 있는 방법을 알아볼 것이다.

- 하지만 그 전에 SQL 구문과 그러한 SQL 구문들이 어떠한 접근 경로(access path)로 데이터를 검색하는지 아는지가 먼저이다. 그리고 제대로 된 SQL 구문을 작성하려면 어떤 테이블 설정이 효율적인지 알아야 하며, 어떤 SQL 구문이 주어졌을 때 어떠한 실행 계획이 나올지 예측할 수도 있어야 한다. 사실 이러한 것들은 물리계층을 은폐한다는 RDB의 목표를 거스르는 일이지만, 이상에 도달하지 못한 현실에 살고 있는 우리에겐느 이상적이지 않은 방법도 필요하다.

### 마치며

- 데이터베이스는 다양한 트레이드오프의 균형을 잡으려는 미들웨어

- 특히 성능적인 관점에서는 데이터를 저속의 저장소(디스크)와 고속의 메모리 중에 어디에 위치시키지의 트레이드 오프가 중요

- 데이터베이스는 갱신보다도 검색과 관련된 것에 비중을 두도록 기본 설정되어 있지만, 실제 시스템에서도 그럴지는 판단이 필요

- 데이터베이스는 SQL을 실행 가능한 절차로 변환하고자 실행 계획을 만듬

- 사실 사용자가 실행 계획을 읽는다는 것은 데이터베이스의 이상을 어기는 일이지만, 세상 모든 것이 이상적으로 돌아가지는 않음

<hr>
